<!DOCTYPE html>
<html class="no-js" lang="fr">
<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>{% block title %}{% endblock %} - TitoCode | Blog de tutoriels et de veille sur le développement informatique</title>
    <!-- REFERENCEMENT NATUREL -->
    <meta name="description" content="Titocode est un site web de tutoriels diversifiés pour développeurs Full-Stack. Vous y retrouverez du HTML, CSS, JS, Symfony 4, PHP etc... Un site fait par un étudiant, pour des étudiants.">
    <meta name="author" content="Grégory Cascales">
    <meta name="Copyright" content="GCascales">
    <meta name="Language" content="fr">
    <meta http-equiv="Content-Language" content="fr">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="Keywords" content="{% if article is defined %}{% if article.tags != null %}{% for tag in article.tags %}{{tag}},{% endfor %}{% endif %}{% endif %}Développeur, Web, HTML, CSS, JS, Symfony, Symfony4, Symfony 4, fr, dévelopment, SIO, tutorial, tutoriel, tutoriels, full-stack, diversité, PHP, how to, blog, france, Grégory Cascales, GCascales, Webdesigner, Webmaster, backend, frontend, back-end, front-end">
    <meta name="Publisher" content="Grégory Cascales">
    {% if nameCategory is defined %}
    <meta name="Category" content="{{nameCategory}}">
    {% endif %}

    <!-- REFERENCEMENTS RESEAUX SOCIAUX -->
    <meta property="og:site_name" content="TitoCode" />
    <meta property="og:url" content="https://titocode.fr{{path(app.request.attributes.get('_route'), app.request.attributes.get('_route_params'))}}" />
    {% if controller_name is defined %}
    <meta property="og:title" content="{{ controller_name }} - TitoCode" />
    {% endif %}


    {% if article is defined %}
    <meta property="og:type" content="article" />
    <meta property="og:image" content="{{ asset(article.privateThumb) }}" />
    {% elseif category is defined %}
    <meta property="og:type" content="category" />
    <meta property="og:image" content="{{asset('assets/img/logo-og.png')}}" />
    {% else %}
    <meta property="og:type" content="website" />
    <meta property="og:image" content="{{asset('assets/img/logo-og.png')}}" />
    {% endif %}


    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="{{asset('assets/Semantic-UI/semantic.min.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/base.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/vendor.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/cookies.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/feedback.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/main.css')}}">

    <!-- ICONS LINK -->
    <style>
        .featured-slider .slick-prev {
            background-image: url({{ asset('assets/img/icons/icon-arrow-left.svg') }});
        }

        .featured-slider .slick-next {
            right: -120px;
            background-image: url({{ asset('assets/img/icons/icon-arrow-right.svg') }});
        }

        .s-footer__subscribe #mc-form input[type="email"] {
            background: url({{ asset('assets/img/icons/icon-mail.svg') }}) 20px center no-repeat, rgba(0, 0, 0, 0.25);
        }

        .go-top a, .go-top a:visited {
            background-image: url({{ asset('assets/img/icons/icon-arrow-up.svg') }});
        }

        #map-wrap #map-zoom-in {
            background-image: url({{ asset('assets/img/icons/icon-plus.svg') }});
        }

        #map-wrap #map-zoom-out {
            background-image: url({{ asset('assets/img/icons/icon-minus.svg') }});
        }

        .pgn__prev {
            background-image: url("{{ asset('assets/img/icons/icon-arrow-left.svg') }}");
        }

        .pgn__next {
            background-image: url("{{ asset('assets/img/icons/icon-arrow-right.svg') }}");
        }

        .header__search-trigger {
            background-image: url({{ asset('assets/img/icons/icon-search.svg') }});
        }

        .popular__thumb {
          height: 6.9rem;
          width: 6.9rem;
          background-position: center;
          background-size: cover;
        }

        .ui.message {
          z-index: 999;
          top: 1em;
          max-width: 90%;
          min-width: 90%;
          margin: 1em auto auto auto;
          position: fixed;
          left: 5%;
        }

        .ui.message .header:not(.ui) {
            font-size: .9em;
        }
    </style>

    {% block stylesheets %}{% endblock %}

    <!-- script
    ================================================== -->
    <script src="{{asset('assets/js/modernizr.js')}}"></script>

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="{{ asset('assets/img/favicon.ico') }}" type="image/x-icon">
    <link rel="icon" href="{{ asset('assets/img/favicon.ico') }}" type="image/x-icon">

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-130506158-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-130506158-1');
	</script>


</head>

<body id="top">

    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader" class="dots-fade">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <!-- feedback
    ================================================== -->
    <!-- <div class="usrp-fb-2 is-expanded"> -->

          <!-- Expanded content -->
          <!-- <div class="usrp-fb-state-expanded">
              <i class="feedback close icon"></i>
              <div class="usrp-fb-title">DONNEZ NOUS VOTRE AVIS !</div>
              <div class="textFeedback">
                Comment pouvons-nous améliorer votre expérience? Nous aimerions l'entendre si vous avez de bonnes idées ou des suggestions pour nous!
                <div class="usrp-fb-divider"></div>
                <div class="usrp-fb-btn usrp-fb-btn-yes">Oui</div>
                <div class="usrp-fb-btn">Non</div>
              </div> -->

              <!-- FORM SEND FEEDBACK -->
              <!-- <label for="mc-email" id="feedback-message" class="feedback-message"></label>
              <fieldset class="formFeedback" style="display:none;">
                  <div>
                      <input name="femail" id="fEmail" value="" class="full-width" placeholder="Votre email*" type="text" style="height: 1em;">
                  </div>
                  <div class="form-field">
                      <textarea name="fcontent" id="fMessage" class="full-width" placeholder="Votre feedback*" style="height: 5em; min-height: 0rem!important;"></textarea>
                  </div>
                  <button type="button" class="submit btn btn--primary btn--large full-width submitFeedback" style="height: 3em!important; line-height: 3.5rem !important;">Envoyer</button>
              </fieldset>
          </div> -->

          <!-- Collapsed content -->
          <!-- <div class="usrp-fb-state-collapsed">
              <div class="usrp-fb-title">FEEDBACK</div>
          </div>

      </div> -->

      <!-- Cookies
      ================================================== -->
      <!-- COOKIES CONTROL HERE -->


    <!-- header
    ================================================== -->
    <header class="s-header header">

        <div class="header__logo">
            <a class="logo" href="{{ path('index') }}">
                <img src="{{asset('assets/img/logo-titocode.png')}}" alt="Homepage">
            </a>
        </div> <!-- end header__logo -->

        <a class="header__search-trigger" href="#0"></a>
        <div class="header__search">

            <div class="header__search-form">
                <label>
                    <span class="hide-content">Rechercher :</span>
                    <input type="search" class="search-field" placeholder="Mots clés" value="" name="word" title="Rechercher :" autocomplete="off">
                </label>
                <!-- <input type="submit" class="search-submit" value="Rechercher"> -->
            </div>

            <a href="#0" title="Fermer la recherche" class="header__overlay-close">Close</a>

        </div>  <!-- end header__search -->

        <a class="header__toggle-menu" href="#0" title="Menu"><span>Menu</span></a>
        <nav class="header__nav-wrap">

            <h2 class="header__nav-heading h6">Aller à</h2>

            <ul class="header__nav">
                <li class="current"><a href="{{ path('index') }}" title="">Accueil</a></li>
                <li class="has-children">
                    <a href="#0" title="">Catégories</a>
                    <ul class="sub-menu menu-categorys">

                    </ul>
                </li>
                <!-- <li class="has-children">
                    <a href="#0" title="">Les tutoriels</a>
                    <ul class="sub-menu">
                        <li><a href="">Tutoriels écrit</a></li>
                        <li><a href="">Tutoriels vidéo</a></li>
                        {# <li><a href="single-standard.html">Standard Post</a></li> #}
                    </ul>
                </li> -->
                {# <li><a href="style-guide.html" title="">Styles</a></li> #}
                <li><a href="{{ path('about') }}" title="">À propos</a></li>
                <li><a href="{{ path('contact') }}" title="">Contactez-nous</a></li>
            </ul> <!-- end header__nav -->

            <a href="#0" title="Close Menu" class="header__overlay-close close-mobile-menu">Fermer</a>

        </nav> <!-- end header__nav-wrap -->

    </header> <!-- s-header -->

    <div class="cont-message">
    {% for flash_message in app.session.flashbag.get('success') %}
        <div class="ui success message">
            <i class="close icon"></i>
            <div class="header">
                {{ flash_message }}
            </div>
            <p></p>
        </div>
    {% endfor %}
    {% for flash_message in app.session.flashbag.get('info') %}
        <div class="ui info message">
            <i class="close icon"></i>
            <div class="header">
                {{ flash_message }}
            </div>
            <p></p>
        </div>
    {% endfor %}
    {% for flash_message in app.session.flashbag.get('warning') %}
        <div class="ui warning message">
            <i class="close icon"></i>
            <div class="header">
                {{ flash_message }}
            </div>
            <p></p>
        </div>
    {% endfor %}
    </div>

    {% block body %}{% endblock %}

    <!-- s-extra
    ================================================== -->
    <section class="s-extra">

        <div class="row">

            <div class="col-seven md-six tab-full popular">
                <h3>Articles populaire</h3>

                <div class="block-1-2 block-m-full popular__posts popularPost">


                </div>
            </div> <!-- end popular -->

            <div class="col-four md-six tab-full end">
                <div class="row">
                    <div class="col-six md-six mob-full categories">
                        <h3>Categories</h3>

                        <ul class="linklist linklist-category">

                        </ul>
                    </div> <!-- end categories -->

                    <div class="col-six md-six mob-full sitelinks">
                        <h3>Raccourcis</h3>

                        <ul class="linklist">
                            <li><a href="{{path('index')}}">Accueil</a></li>
                            <li><a href="{{path('about')}}">À propos</a></li>
                            <li><a href="{{path('contact')}}">Contactez-nous</a></li>
                            <li><a href="#">Informations légales</a></li>
                            <!-- <li><a href="#0">Contact</a></li>
                            <li><a href="#0">Privacy Policy</a></li> -->
                        </ul>
                    </div> <!-- end sitelinks -->
                </div>
            </div>
        </div> <!-- end row -->

    </section> <!-- end s-extra -->


    <!-- s-footer
    ================================================== -->
    <footer class="s-footer">

        <div class="s-footer__main">
            <div class="row">

                <div class="col-six tab-full s-footer__about">

                    <h4>À propos de Titocode</h4>

                    <p>Titocode est un blog réunissant toutes sortes de tutoriels liés au développement web et applicatif. Fondé en fin 2018 par <a href="https://www.cascales.fr/">Grégory Cascales</a>, le but de ce site est de partager notre savoir à des développeurs débutants, amateurs ou même expérimentés.
                    Notre diversité dans les langages de programmation permettra ainsi d'élargir, au fil du temps, les catégories de nos tutoriels.</p>

                </div> <!-- end s-footer__about -->

                <div class="col-six tab-full s-footer__subscribe">

                    <h4>Notre Newsletter</h4>

                    <p>Aucun spam ni de mails inutile, vous serez juste averti pour chaque nouveauté en lien avec Titocode, on vous le promet !</p>

                    <div class="subscribe-form">
                        <div id="mc-form" class="group" novalidate="true">

                            <input type="email" value="" name="emailNewsletters" class="email emailNewsletters" id="mc-email" placeholder="Adresse email" required="">

                            <input type="submit" class="subNewsletters" name="subNewsletters" value="S'inscrire">

                            <label for="mc-email" id="submessage" class="subscribe-message"></label>

                        </div>
                    </div>

                </div> <!-- end s-footer__subscribe -->

            </div>
        </div> <!-- end s-footer__main -->

        <div class="s-footer__bottom">
            <div class="row">

                <div class="col-six">
                    <ul class="footer-social">
                        <!-- <li>
                            <a href="#0"><i class="fab fa-facebook"></i></a>
                        </li> -->
                        <li>
                            <a href="https://twitter.com/grasgouz/"><i class="fab fa-twitter"></i></a>
                        </li>
                        <li>
                            <a href="https://instagram.com/gzcls"><i class="fab fa-instagram"></i></a>
                        </li>
                        <!-- <li>
                            <a href="#0"><i class="fab fa-youtube"></i></a>
                        </li>
                        <li>
                            <a href="#0"><i class="fab fa-pinterest"></i></a>
                        </li> -->
                    </ul>
                </div>

                <div class="col-six">
                    <div class="s-footer__copyright">
                        <span>
Copyright &copy;<script>document.write(new Date().getFullYear());</script> Tous droits réservés | Développé avec <i class="fa fa-heart" aria-hidden="true" style="animation: pulse 1s infinite;"></i> par <a href="https://www.cascales.fr" target="_blank">GCascales</a>
</span>
                    </div>
                </div>

            </div>
        </div> <!-- end s-footer__bottom -->

        <div class="go-top">
            <a class="smoothscroll" title="Back to Top" href="#top"></a>
        </div>

    </footer> <!-- end s-footer -->


    <!-- Java Script
    ================================================== -->
    <script src="{{asset('assets/js/jquery-3.2.1.min.js')}}"></script>
    <script src="{{asset('assets/Semantic-UI/semantic.min.js')}}"></script>
    <script src="{{asset('assets/js/plugins.js')}}"></script>
    <script src="{{asset('assets/js/feedback.js')}}"></script>
    <script src="{{asset('assets/js/cookies.js')}}"></script>
    <script src="{{asset('assets/js/main.js')}}"></script>
    <script>
        $(document).ready(function(){

            $('.message .close')
            .on('click', function() {
              $(this)
                .closest('.message')
                .transition('fade')
              ;
            })
            ;

            //ajax for catégories
            $.ajax({
                async: true,
                type: 'POST',
                url: "{{ path('getCategorys') }}",
                success: function (data) {
                    $.each(data, function(i, v) {
                        var url = '{{ path("category", {"id": "region_id"}) }}';
                        url = url.replace("region_id", v.id);
                        resultHTML = '<li><a href="'+url+'">'+v.name+'</a></li>';
                        $('.menu-categorys').append(resultHTML);
                        $('.linklist-category').append(resultHTML);
                    })
                },
            });

            //ajax for articlesPop
            $.ajax({
                async: true,
                type: 'POST',
                url: "{{ path('getArticlesPop') }}",
                success: function (data) {
                    $.each(data, function(i, v) {
                        var url = '{{ path("article-standard", {"id": "region_id"}) }}';
                        url = url.replace("region_id", v.id);
                        resultHTML = '<article class="col-block popular__post"><a href="'+url+'" class="popular__thumb" style="background-image: url({{asset("publicThumb")}})"></a><a href="'+url+'"><h5>'+v.title+'</h5></a><section class="popular__meta"><span class="popular__author"><span>Par</span> <a href="https://www.cascales.fr/">Grégory Cascales</a></span> <span class="popular__date"><span>-</span> '+v.vue+' vue(s)</span></section></article>';
                        resultHTML = resultHTML.replace("publicThumb", v.publicThumb);
                        $('.popularPost').append(resultHTML);
                    })
                },
            });

            /* Feedback
             * ------------------------------------------------------ */
            // $(".submitFeedback").click(function(){
            //   var femail = $('#fEmail').val();
            //   var fmessage = $('#fMessage').val();
            //   if(femail.length != 0 && fmessage.length != 0){
            //     // IF CARACTERES SPECIAUX
            //     femail = femail.replace( "/", ' - ' );
            //     fmessage = fmessage.replace( "/", ' - ' );
            //     //SEND AJAX
            //     urlAj = "{{ path('feedback-send', {'Femail' : 'thisemail', 'Fmessage' : 'thismessage'}) }}";
            //     urlAj = urlAj.replace( "thisemail", femail );
            //     urlAj = urlAj.replace( "thismessage", fmessage );
            //     $.ajax({
            //         async: true,
            //         type: 'POST',
            //         url : urlAj,
            //         success: function (data) {
            //           if(data == '1'){
            //             $(".formFeedback").fadeOut( "slow" );
            //             $('#feedback-message').html('Votre feedback a été envoyé avec succès !');
            //             // CLOSE
            //             setTimeout(function(){ $('.usrp-fb-2').removeClass('is-expanded'); }, 1000);
            //             setTimeout(function(){ $('.usrp-fb-2').addClass('is-collapsed'); }, 1300);
            //             // ADD COOKIES
            //             setCookie('feedback', 1);
            //           } else {
            //             $('#feedback-message').html(data);
            //           }
            //         },
            //         error: function (){
            //           $('#feedback-message').html('Problème lors du traitement de l\'envoi, si le problème persiste réessayez ultérieurement !');
            //         },
            //     });
            //   } else {
            //     $('#feedback-message').html('L\'email et le message sont obligatoire !');
            //   }
            // })

            /* Newsletter
             * ------------------------------------------------------ */
             //RACOURCI ENTER
             $('.emailNewsletters').keypress(function(e){
                 if( e.which == 13 ){
                     $( ".subNewsletters" ).trigger( "click" );
                 }
             });

             //FUNCTION
             var clAjaxChimp = function() {

               function isEmail(email) {
                  var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                  return regex.test(email);
                }

               $(".subNewsletters").click(function(){
                 var error = null;
                 //ERRORS
                 if($(".emailNewsletters").val() == '' || !isEmail($(".emailNewsletters").val())){
                   error = "Un email valide est obligatoire !";
                 }
                 if(error == null){
                     $('#submessage').html("Traitement...");
                     urlAj = "{{ path('newsletter', {'email' : "region_email"}) }}";
                     urlAj = urlAj.replace( "region_email", $(".emailNewsletters").val() );
                     $.ajax({
                         async: true,
                         type: 'POST',
                         url : urlAj,
                         success: function (data) {
                           if(data != 1){
                              $('#submessage').html(data);
                           } else {
                             $('#submessage').html('Un email de confirmation vous a été envoyé !');
                           }
                         },
                         error: function (){
                           $('#submessage').html('Problème lors de l\'inscription, si le problème persiste réessayez ultérieurement !');
                         },
                     });
                 } else {
                   $('#submessage').html(error);
                 }
               })

                 var errors = {
                     'submit': 'Traitement...',
                     0: '<i class="fas fa-check"></i> Nous vous avons envoyé un email de confimation !',
                     1: '<i class="fas fa-exclamation-circle"></i> Une adresse email est obligatoire pour s\'inscrire aux newsletters.',
                     2: '<i class="fas fa-exclamation-circle"></i> Votre email n\'est pas valide.',
                     3: '<i class="fas fa-exclamation-circle"></i> Votre email n\'est pas valide.',
                     4: '<i class="fas fa-exclamation-circle"></i> Votre email n\'est pas valide.',
                     5: '<i class="fas fa-exclamation-circle"></i> Votre email n\'est pas valide.'
                 }
             };

             (function clInit() {
                 clAjaxChimp();
             })();

             //SEARCH SEND
             $('.search-field').keypress(function (e) {
               var key = e.which;
               if(key == 13)  // the enter key code
                {
                  var url = '{{ path("rechercher", {"word": "region_word"}) }}';
                  url = url.replace("region_word", $(this).val());
                  $(location).attr('href', url)
                  return false;
                }
              });

        });
    </script>

    {% block javascripts %}
    {% endblock %}

</body>

</html>
